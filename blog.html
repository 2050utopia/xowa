<!DOCTYPE html>
<html dir="ltr">
<head>
  <title>XOWA: Blog</title>
  <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
  <link rel="shortcut icon" href="xowa-logo.png" />
  <link rel="stylesheet" href="xowa.css" type="text/css">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject skin-vector action-submit vector-animateLayout" spellcheck="false">
<div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
<div id="content" class="mw-body">
  <h1 id="firstHeading" class="firstHeading"><span>Blog: Items and events from XOWA's development</span></h1>
  <div id="bodyContent">
    <div id="siteSub">From XOWA: a free, open-source, offline wiki application</div>
    <div id="contentSub"></div>
    <div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">

<!-- page_bgn -->
    <h2>
      <span class="mw-headline" id="Release:_v3.1.4.1_.282016-01-24_19:30_Sun.29">Release: v3.1.4.1 (2016-01-24 19:30 Sun)</span>
    </h2>
    <p>
      The desktop app is a major release. It resolves several wiktionary errors on non-English pages and has better HTML dump generation for other wikis.
    </p>
    <p>
      The Android app is a major release. It has a more responsive search, instant image loading when reloading page, and a fix for pages failing to load if they have spaces and colons in the title.
    </p>
    <h3>
      <span class="mw-headline" id="Scribunto_.2F_Luaj_fixes_for_English_Wiktionary">Scribunto / Luaj fixes for English Wiktionary</span>
    </h3>
    <p>
      There were several dozen pages with script errors in English Wiktionary. They basically fell into these categories:
    </p>
    <ul>
      <li>
        Luaj / Scribunto errors with MCBS entities in Asian languages (1 glyph; 2 char).
      </li>
      <li>
        Programmatic errors for minor cases 
        <ul>
          <li>
            Recursive gsub calls with lua function
          </li>
          <li>
            Search position returned as int not string
          </li>
        </ul>
      </li>
    </ul>
    <p>
      The build log for English Wiktionary looks a lot cleaner now, though I still have to add some support for the {{categorytree}} function.
    </p>
    <h3>
      <span class="mw-headline" id="Better_HTML_dump_generation_for_English_Wiktionary.2C_Wikisource.2C_Wikiquote.2C_etc._Also.2C_French_Wikipedia">Better HTML dump generation for English Wiktionary, Wikisource, Wikiquote, etc. Also, French Wikipedia</span>
    </h3>
    <p>
      I ran the HTML dump generator through all the English wikis, as well as French Wikipedia. The results looked good, but there were a lot of log errors that were addressed with this release.
    </p>
    <h3>
      <span class="mw-headline" id=".28Android.29_More_responsive_search">(Android) More responsive search</span>
    </h3>
    <p>
      Search is still slow on Android. I'll fix this in a future relase, but I'll have to change the format of the search databases.
    </p>
    <p>
      In the interim, I hacked in the following approach. Assume a search term of "Earth":
    </p>
    <ul>
      <li>
        Search for titles that match the term. For example, "Earth". This is fast and usually comes back in 0 - 3 seconds.
      </li>
      <li>
        Search for titles that have the term in any word within the title. For example, "History of Earth". This is moderate and usually comes back in 5 - 10 seconds.
      </li>
      <li>
        Search for titles that have the term starting in any word within the title. For example, "Earthquake". This is slow and usually takes 15 seconds and sometimes more.
      </li>
    </ul>
    <h3>
      <span class="mw-headline" id=".28Android.29_Instant_image_loading_when_reloading_page">(Android) Instant image loading when reloading page</span>
    </h3>
    <p>
      First, some background. XOWA loads pages in two stages:
    </p>
    <ul>
      <li>
        Show the HTML
      </li>
      <li>
        Fill in the images one by one
      </li>
    </ul>
    <p>
      The 2nd stage is necessary because it takes a few tenths of a second to retrieve an image from the database. For large pages (20+ images), this would delay page load by a few seconds (for example: 20 images * .2 second = 4 seconds).
    </p>
    <p>
      However, once a page is viewed, reloading a page shouldn't have to re-retrieve the image from the database. The previous releases were actually re-retrieving the image. This release just uses the image if it's already there.
    </p>
    <h3>
      <span class="mw-headline" id=".28Android.29_Fix_for_pages_failing_to_load_if_they_have_spaces_and_colons_in_the_title">(Android) Fix for pages failing to load if they have spaces and colons in the title</span>
    </h3>
    <p>
      This only affects a small minority of items that have a colon and spaces in the title. For example, "List of A:B items". XOWA didn't load this page because the underlying Wikipedia Mobile App was encoding the spaces as +.
    </p>
    <h3>
      <span class="mw-headline" id="Next_release:_v3.1.5">Next release: v3.1.5</span>
    </h3>
    <p>
      I haven't uploaded wikis this week, because I'm working on a blocking item in Wikivoyage (Pagebanner). I'm going to delay another week and focus on updating 2016-01-13 English Wikipedia. This means a new HTML dump which should be available by next Sunday. I'm also hoping to upload the other English wikis, and then continue on to French, etc.
    </p>
    <p>
      Meanwhile, I'm going to delay the Google Play Store a few weeks. If anyone thinks I should go to Google Play Store earlier, please let me know. From my side, there are a number of items that still need polish. If you have any feedback, please do post in <a href="https://github.com/gnosygnu/xowa/issues/36" rel="nofollow" class="external free">https://github.com/gnosygnu/xowa/issues/36</a> I'd appreciate anything: from "Works fine" to "This feature needs some more work".
    </p>
    <p>
      Finally, if you have an Android device and want a wiki for your device, let me know which, and I'll bump it up in priority. The next items in queue are French, German, Chinese and Arabic Wikipedia. I'll get to all the wikis but it may take a few months unless I hear requests otherwise.
    </p>
    <h2>
      <span class="mw-headline" id="Release:_v3.1.3.1_.282016-01-17_21:45_Sun.29">Release: v3.1.3.1 (2016-01-17 21:45 Sun)</span>
    </h2>
    <p>
      The desktop app is a trivial release. Its main feature is a help page for generating HTML-dumps
    </p>
    <p>
      The Android app is a major release. It has a Random feature, shows more images, and adds CSS-tweaks.
    </p>
    <h3>
      <span class="mw-headline" id="Documentation_for_html-dump_script._See_Help:Import.2FCommand-line.2FDumps">Documentation for html-dump script. See <a href="/wiki/Help:Import/Command-line/Dumps" id="xolnki_11" title="Help:Import/Command-line/Dumps">Help:Import/Command-line/Dumps</a></span>
    </h3>
    <p>
      This item is self-explanatory. The XOWA Android app is getting more stable, so I felt it would be time to document the generation of the HTML databases.
    </p>
    <h3>
      <span class="mw-headline" id="Improved_Android_beta.2C_including_Random.2C_more_image_display_and_CSS-tweaks._See_https:.2F.2Fgithub.com.2Fgnosygnu.2Fxowa.2Fissues.2F36">Improved Android beta, including Random, more image display and CSS-tweaks. See <a href="https://github.com/gnosygnu/xowa/issues/36" rel="nofollow" class="external free">https://github.com/gnosygnu/xowa/issues/36</a></span>
    </h3>
    <p>
      This build has a number of new features.
    </p>
    <ul>
      <li>
        Random now works in offline mode.
      </li>
      <li>
        All thumb and gallery images should now show up. (approximately 5% of them weren't before)
      </li>
      <li>
        CSS tweaks were added to center the images as well as standardize some background colors
      </li>
    </ul>
    <p>
      You can get the latest release here: <a href="https://github.com/gnosygnu/xowa/releases/" rel="nofollow" class="external free">https://github.com/gnosygnu/xowa/releases/</a>
    </p>
    <h3>
      <span class="mw-headline" id="Next_release:_v3.1.4">Next release: v3.1.4</span>
    </h3>
    <p>
      The Wikimedia dump service resumed, but I'd like to delay French, Polish and Latin for another week. I'm planning to generate HTML dumps for the rest of the English wikis including Wiktionary, Wikisource, Wikivoyage, etc. This will be a good stress test for the new XOWA html-dump format before I continue on to other wikis.
    </p>
    <p>
      I'm also going to continue tweaking the XOWA Android app. If you have a moment to help out with testing, please set it up and give me some feedback: <a href="https://github.com/gnosygnu/xowa/issues/36" rel="nofollow" class="external free">https://github.com/gnosygnu/xowa/issues/36</a>
    </p>
    <h2>
      <span class="mw-headline" id="Release:_XOWA_.28None.29.3B_XOWA_Android_.28v0.1.2.0.29_.282016-01-10_20:30_Sun.29">Release: XOWA (None); XOWA Android (v0.1.2.0) (2016-01-10 20:30 Sun)</span>
    </h2>
    <p>
      There's no release for the XOWA app tonight. I've spent the week mostly on the Android app, and there were no real changes for the main desktop app.
    </p>
    <p>
      I have released an Alpha of the XOWA Android App. You should check the following links:
    </p>
    <ul>
      <li>
        Android progress thread: <a href="https://github.com/gnosygnu/xowa/issues/36" rel="nofollow" class="external free">https://github.com/gnosygnu/xowa/issues/36</a>
      </li>
      <li>
        Main Github repo (source): <a href="https://github.com/gnosygnu/xowa_android" rel="nofollow" class="external free">https://github.com/gnosygnu/xowa_android</a>
      </li>
      <li>
        Releases page (apk): <a href="https://github.com/gnosygnu/xowa_android/releases/tag/v0.1.2.0" rel="nofollow" class="external free">https://github.com/gnosygnu/xowa_android/releases/tag/v0.1.2.0</a>
      </li>
      <li>
        Simple Wikipedia Android dump: <a href="https://archive.org/details/Xowa_simplewiki_latest" rel="nofollow" class="external free">https://archive.org/details/Xowa_simplewiki_latest</a>
      </li>
    </ul>
    <p>
      If you have Android KitKat or higher and would like to run XOWA on it, I'd be greatly interested in feedback. See the Android progress thread for more details.
    </p>
    <h3>
      <span class="mw-headline" id="Next_release:_v3.1.3">Next release: v3.1.3</span>
    </h3>
    <p>
      I still have some tasks for XOWA Android that I'd like to work on this week. I am going to try to release the main app next week, but if there are no new changes it may slip again in favor of an update of the XOWA Android release
    </p>
    <p>
      I haven't generated any wikis this week as the dump service seems to have come to a halt. Whenever it resumes, I'll pick up again with the promised updates of French, Polish and Greek
    </p>
    <h2>
      <span class="mw-headline" id="Release:_v3.1.1.1_.282016-01-03_20:00_Sun.29">Release: v3.1.1.1 (2016-01-03 20:00 Sun)</span>
    </h2>
    <p>
      v3.1.1 is a minor release. It has a few fixes for some English Wikipedia pages, and many trivial HTML changes.
    </p>
    <h3>
      <span class="mw-headline" id="Handle_refs_inside_.7B.7B.23tag.7D.7D">Handle refs inside {{#tag}}</span>
    </h3>
    <p>
      I only saw this issue on one page in English Wikipedia (United Kingdom), but it has potential for more effects. Basically, XOWA did not handle &lt;ref&gt; inside a {{#tag}}. For example: {{#tag:ref|&lt;ref&gt;a&lt;/ref&gt;}}. For the United Kingdom page, this threw off the format, and made the Infobox as wide as the entire page.
    </p>
    <h3>
      <span class="mw-headline" id="Fix_for_incorrect_search_word_counts_and_IPA_links">Fix for incorrect search word counts and IPA links</span>
    </h3>
    <p>
      There was a minor issue with incorrect search counts for words. I don't think this affects anything for desktop searches, but it did throw off the Android search.
    </p>
    <p>
      Meanwhile, due to incorrect URL generation, IPA links would not download from the web after being clicked.
    </p>
    <h3>
      <span class="mw-headline" id="Trivial_HTML_changes">Trivial HTML changes</span>
    </h3>
    <p>
      v3.1.1 has a bunch of HTML changes to make it slightly closer to MediaWiki's HTML.
    </p>
    <ul>
      <li>
        The most significant one is the removal of the magnify icon, which is now being handled in CSS as opposed to a separate &lt;img&gt; tag.
      </li>
      <li>
        There are a few other ones affecting incorrect escaping of quotes. This would cause incomplete titles when hovering over images or links.
      </li>
      <li>
        Finally there are minor whitespace / attribute generation issues. None of these should be noticeable; they were made to handle log messages during bulk HTML generation
      </li>
    </ul>
    <h3>
      <span class="mw-headline" id="Next_release:_v3.1.2">Next release: v3.1.2</span>
    </h3>
    <p>
      I was on track to release the new Android version tonight, but ran into a last minute issue with thumbs and English Wikipedia. I'm pushing this out another week.
    </p>
    <p>
      For wikis, I'll work on the French Wikipedia refresh, and try to add on Polish and Greek.
    </p>
    <p>
      Finally, an apology to those I've promised minor changes. I've spent a lot of time on Android recently, and there's been a backlog of items. I'm hoping to be done with the Android version in the next few weeks and will work on these items as I get time.
    </p>
    <h2>
      <span class="mw-headline" id="Release:_NONE_.282015-12-27_22:00_Sun.29">Release: NONE (2015-12-27 22:00 Sun)</span>
    </h2>
    <p>
      I'm skipping the release again. There were two minor changes, but neither seem to be enough to warrant another version. As always, if anyone notices any serious issues, please do let me know at either <a href="https://github.com/gnosygnu/xowa/issues" rel="nofollow" class="external free">https://github.com/gnosygnu/xowa/issues</a> or gnosygnu at gmail.com .
    </p>
    <p>
      I did release Russian wikis this week. See: <a href="https://archive.org/details/Xowa_ruwiki_latest" rel="nofollow" class="external free">https://archive.org/details/Xowa_ruwiki_latest</a>
    </p>
    <p>
      I've spent a lot of time this week on the new Android version. I've actually reached a point this weekend wherein it is working with English Wikipedia.
    </p>
    <p>
      For 3.1.1, I'm going to try to release this new Alpha with for Simple Wikipedia. My aim is to get a release of English Wikipedia shortly afterwards.
    </p>
    <p>
      For wikis, I'll try to do a refresh of French Wikipedia.
    </p>
    <h2>
      <span class="mw-headline" id="Release:_NONE_.282015-12-20_22:00_Sun.29">Release: NONE (2015-12-20 22:00 Sun)</span>
    </h2>
    <p>
      I'm skipping the release this week as well. I've spent the week working on the new Android dump format for gallery, as well as a new database merge feature. I haven't found anything worth a release.
    </p>
    <p>
      I posted the English image updates at <a href="https://archive.org/details/Xowa_enwiki_latest" rel="nofollow" class="external free">https://archive.org/details/Xowa_enwiki_latest</a> I'm working on Russian now, and they'll be ready next week.
    </p>
    <p>
      For 2.12.4, I'm still working on the new Android version for Simple Wikipedia.
    </p>
    <h2>
      <span class="mw-headline" id="Release:_NONE_.282015-12-13_19:30_Sun.29">Release: NONE (2015-12-13 19:30 Sun)</span>
    </h2>
    <p>
      I'm skipping the release this week. I've been working on Android-related changes, so there really aren't any significant changes.
    </p>
    <p>
      I posted Arabic wikis at <a href="https://archive.org/details/Xowa_arwiki_latest" rel="nofollow" class="external free">https://archive.org/details/Xowa_arwiki_latest</a> I ran into an issue with English Wikipedia though, and am rebuilding the dump. It should be ready by the middle of the week.
    </p>
    <p>
      For 2.12.3, I'm continuing work on the Android version for Simple Wikipedia. For wikis, I'll try to do Russian
    </p>
    <h2>
      <span class="mw-headline" id="Release:_NONE_.282015-12-13_19:30_Sun.29">Release: NONE (2015-12-13 19:30 Sun)</span>
    </h2>
    <p>
      I'm skipping the release this week. I've been working on Android-related changes, so there really aren't any significant changes.
    </p>
    <p>
      I posted Arabic wikis at <a href="https://archive.org/details/Xowa_arwiki_latest" rel="nofollow" class="external free">https://archive.org/details/Xowa_arwiki_latest</a> I ran into an issue with English Wikipedia though, and am rebuilding the dump. It should be ready by the middle of the week.
    </p>
    <p>
      For 2.12.3, I'm continuing work on the Android version for Simple Wikipedia. For wikis, I'll try to do Russian
    </p>
    <h2>
      <span class="mw-headline" id="Release:_v2.12.1.1_.282015-12-06_21:30_Sun.29">Release: v2.12.1.1 (2015-12-06 21:30 Sun)</span>
    </h2>
    <p>
      v2.12.1 is a minor release. It has several fixes directly affecting Italian Wikisource pages, and a few minor parser fixes for other wikis
    </p>
    <h3>
      <span class="mw-headline" id="Wiki_bundles_for_Italian_wikis">Wiki bundles for Italian wikis</span>
    </h3>
    <p>
      The Italian wikis have been posted to archive.org
    </p>
    <ul>
      <li>
        <a href="https://archive.org/details/Xowa_itwiki_latest" rel="nofollow" class="external free">https://archive.org/details/Xowa_itwiki_latest</a>
      </li>
    </ul>
    <h3>
      <span class="mw-headline" id="Minor_fixes_for_Italian_Wikisource">Minor fixes for Italian Wikisource</span>
    </h3>
    <p>
      These fixes addressed the following:
    </p>
    <ul>
      <li>
        Poems with references would show duplicate references at the bottom of the page. In addition, the text of the references may be incorrectly placed in the body of the poem.
      </li>
      <li>
        Image maps with scribunto code relying on the page title generated script errors.
      </li>
    </ul>
    <h3>
      <span class="mw-headline" id="Minor_parser_fixes_including_mapsource_extension">Minor parser fixes including mapsource extension</span>
    </h3>
    <p>
      These fixes are several, but the following are notable:
    </p>
    <ul>
      <li>
        Scribunto code calling json-decode was failing if the code was relying on integer keys. For example, {"1"="a"} needs to parse <code>1</code> as an integer, not a string. Otherwise, code calling <code>ipairs</code> would later fail
      </li>
      <li>
        Mapsource functions such as {{#deg2dd}} would not handle non-ASCII double apostrophes. For example, <code>’’</code> needs to go to <code>''</code> and then to <code>"</code>. XOWA was doing the 1st part (<code>''</code>) but not the second (<code>"</code>)
      </li>
    </ul>
    <h3>
      <span class="mw-headline" id="Next_release:_v2.12.2">Next release: v2.12.2</span>
    </h3>
    <p>
      I spent a good deal of time working on most of these minor fixes, so my progress on Android was limited. However, I did get a text version of Simple Wikipedia working with the new dump and the new UI. I'm planning to work on images this week, and hope to have a new beta for v2.12.2
    </p>
    <p>
      For wikis, I'm generating English now. I'll try to add Arabic this week as well.
    </p>
    <h2>
      <span class="mw-headline" id="Release:_NONE_.282015-11-29_19:30_Sun.29">Release: NONE (2015-11-29 19:30 Sun)</span>
    </h2>
    <p>
      This week will be another skipped release. I've only made very minor changes this week, so it didn't seem worth it to make a new release.
    </p>
    <p>
      I did post wikis for Dutch and Latin at <a href="https://archive.org/details/Xowa_nlwiki_latest" rel="nofollow" class="external free">https://archive.org/details/Xowa_nlwiki_latest</a> and <a href="https://archive.org/details/Xowa_lawiki_latest" rel="nofollow" class="external free">https://archive.org/details/Xowa_lawiki_latest</a>
    </p>
    <p>
      For 2.12.1 I'm going to finish up the dump and try to get another Android version for Simple Wikipedia. For wikis, I'll work on Italian.
    </p>
    <h2>
      <span class="mw-headline" id="Release:_v2.11.4.1_.282015-11-22_20:00_Sun.29">Release: v2.11.4.1 (2015-11-22 20:00 Sun)</span>
    </h2>
    <p>
      v2.11.4 is a minor release. It has one fix affecting French Wikipedia pages, and another for the simple-mode Category system.
    </p>
    <h3>
      <span class="mw-headline" id="Fix_for_.22long-vertical_scrolling.22_on_French_Wikipedia">Fix for "long-vertical scrolling" on French Wikipedia</span>
    </h3>
    <p>
      In v2.11.2, I added a fix to handle extraneous pre sections: see <a href="#Fix_for_extraneous_pre-sections_in_References" id="xolnki_10" title="">#Fix for extraneous pre-sections in References</a>. It turned out this fix was not correct, and caused pages in French Wikipedia to have large scrolling sections.
    </p>
    <p>
      I reverted the fix for v2.11.4. As it turned out, the issue with extraneous pre sections was handled by the underlying templates themselves.
    </p>
    <h3>
      <span class="mw-headline" id="Fix_for_simple-mode_Category_pages_not_loading">Fix for simple-mode Category pages not loading</span>
    </h3>
    <p>
      XOWA generates a simple Category system when it builds a wiki (this is called v1). If you want an authentic version of the Category system (this is called v2), you can always import it separately under [[Import offline]].
    </p>
    <p>
      The simple Category system looks like it broke some time ago during the general database redesign from .sqlite3 to .xowa. I fixed it for this release.
    </p>
    <h3>
      <span class="mw-headline" id="Wiki_bundles_for_French.2C_Lithuanian.2C_Limburgish.2C_Estonian.2C_Latvian.2C_Nynorsk.2C_and_Cebuano_wikis">Wiki bundles for French, Lithuanian, Limburgish, Estonian, Latvian, Nynorsk, and Cebuano wikis</span>
    </h3>
    <p>
      There were a lot of wikis this week, but they were mostly small. These have been uploaded to archive.org:
    </p>
    <ul>
      <li>
        <a href="https://archive.org/details/Xowa_frwiki_latest" rel="nofollow" class="external free">https://archive.org/details/Xowa_frwiki_latest</a>
      </li>
      <li>
        <a href="https://archive.org/details/Xowa_ltwiki_latest" rel="nofollow" class="external free">https://archive.org/details/Xowa_ltwiki_latest</a>
      </li>
      <li>
        <a href="https://archive.org/details/Xowa_liwiki_latest" rel="nofollow" class="external free">https://archive.org/details/Xowa_liwiki_latest</a>
      </li>
      <li>
        <a href="https://archive.org/details/Xowa_etwiki_latest" rel="nofollow" class="external free">https://archive.org/details/Xowa_etwiki_latest</a>
      </li>
      <li>
        <a href="https://archive.org/details/Xowa_lvwiki_latest" rel="nofollow" class="external free">https://archive.org/details/Xowa_lvwiki_latest</a>
      </li>
      <li>
        <a href="https://archive.org/details/Xowa_nnwiki_latest" rel="nofollow" class="external free">https://archive.org/details/Xowa_nnwiki_latest</a>
      </li>
      <li>
        <a href="https://archive.org/details/Xowa_cebwiki_latest" rel="nofollow" class="external free">https://archive.org/details/Xowa_cebwiki_latest</a>
      </li>
    </ul>
    <h3>
      <span class="mw-headline" id="Next_release:_v2.11.5">Next release: v2.11.5</span>
    </h3>
    <p>
      I was able to do a basic HTML dump for simple wiki, but there are still a number of issues. These should be fixed this week, and hopefully I can try the new HTML dump system on English Wikipedia.
    </p>
    <p>
      For wikis, I'm going to work through the last of the old .sqlite3 wikis and go through Dutch (nl.*) and Latin wikis.
    </p>
    <h2>
      <span class="mw-headline" id="Release:_v2.11.3.1_.282015-11-15_20:00_Sun.29">Release: v2.11.3.1 (2015-11-15 20:00 Sun)</span>
    </h2>
    <p>
      v2.11.3 is a fairly minor release. It addresses one minor bug with "1. REDIRECT" showing up on pages.
    </p>
    <h3>
      <span class="mw-headline" id="Fix_for_.221._REDIRECT.22_showing_up_on_some_pages">Fix for "1. REDIRECT" showing up on some pages</span>
    </h3>
    <p>
      This was a bug I introduced while fixing another issue in v2.11.2. Some pages would now show "1. REDIRECT", most notably en.w:Earth
    </p>
    <h3>
      <span class="mw-headline" id="Wiki_bundles_for_Slovak.2C_Slovenian.2C_Galician.2C_and_Waray-Waray_wikis">Wiki bundles for Slovak, Slovenian, Galician, and Waray-Waray wikis</span>
    </h3>
    <p>
      These have been uploaded to archive.org:
    </p>
    <ul>
      <li>
        <a href="https://archive.org/details/Xowa_skwiki_latest" rel="nofollow" class="external free">https://archive.org/details/Xowa_skwiki_latest</a>
      </li>
      <li>
        <a href="https://archive.org/details/Xowa_slwiki_latest" rel="nofollow" class="external free">https://archive.org/details/Xowa_slwiki_latest</a>
      </li>
      <li>
        <a href="https://archive.org/details/Xowa_glwiki_latest" rel="nofollow" class="external free">https://archive.org/details/Xowa_glwiki_latest</a>
      </li>
      <li>
        <a href="https://archive.org/details/Xowa_warwiki_latest" rel="nofollow" class="external free">https://archive.org/details/Xowa_warwiki_latest</a>
      </li>
    </ul>
    <h3>
      <span class="mw-headline" id="Next_release:_v2.11.4">Next release: v2.11.4</span>
    </h3>
    <p>
      I fixed the one minor Wikibase issue, but am deferring a few other possible issues till later. I'm still chugging away on the HTML dump. My aim is to get a simple wiki dump for the next release.
    </p>
    <p>
      I generated the English Wiki dump but there were only about 3 thousand new images, and I didn't feel that it merited an update. For wikis, I'm going to update French, and then go through as many as I can of Lithuanian, Limburgish, Estonian, Latvian and Nynorsk.
    </p>
    <h2>
      <span class="mw-headline" id="Release:_v2.11.2.1_.282015-11-08_22:00_Sun.29">Release: v2.11.2.1 (2015-11-08 22:00 Sun)</span>
    </h2>
    <p>
      v2.11.2 is a significant release. It addresses minor, but noticeable issues with gallery sections, location maps, and references. It also has some Wikibase fixes.
    </p>
    <h3>
      <span class="mw-headline" id="Fix_for_Gallery_rendering_vertically_instead_of_horizontally">Fix for Gallery rendering vertically instead of horizontally</span>
    </h3>
    <p>
      Wikimedia added a change a few weeks ago to force &lt;gallery&gt; tags to use a css. See <a href="https://phabricator.wikimedia.org/T110709" rel="nofollow" class="external free">https://phabricator.wikimedia.org/T110709</a> This resulted in galleries being shown vertically, instead of horizontally.
    </p>
    <p>
      v2.11.2 now includes this css.
    </p>
    <h3>
      <span class="mw-headline" id="Fix_for_Location_maps_not_working_on_non-English_wikis">Fix for Location maps not working on non-English wikis</span>
    </h3>
    <p>
      This has been a bug for a few months, but I had misdiagnosed it as bad Module code. Basically, non-English wikis would copy-paste the same Module:Location_map code in to their wikis. This failed to work in XOWA, because:
    </p>
    <ul>
      <li>
        The Module code has a hard-coded reference to <code>Template</code>
      </li>
      <li>
        XOWA actually generates the non-English name for Template for the wiki. For Croatian Wikipedia, this is <code>Šablon</code> not <code>Template</code>
      </li>
    </ul>
    <p>
      This basically broke location maps in non-English wikis. I should have caught this earlier, but the first few I looked at were all bad usages (no location coordinates passed).
    </p>
    <p>
      v2.11.2 now uses the canonical name just like MediaWiki.
    </p>
    <h3>
      <span class="mw-headline" id="Fix_for_extraneous_pre-sections_in_References">Fix for extraneous pre-sections in References</span>
    </h3>
    <p>
      I think this is also a recent bug, but I can't track down the actual cause. MediaWiki has inconsistent logic for trimming whitespace around template and link arguments. The one at issue was a piece of code like <code>{{TemplateName| B\n }}</code>. On my local version of MediaWiki (1.25.2), it doesn't trim the <code>"\n "</code> after the B and creates a &lt;pre&gt; section. However, on Wikipedia, it does trim the whitespace and does not create a &lt;pre&gt; section.
    </p>
    <p>
      I think this behavior changed recently, but couldn't find the actual line of code in MediaWiki. For now, XOWA will automatically trim end whitespace for all template arguments. In my opinion this is more intuitive behavior anyway.
    </p>
    <h3>
      <span class="mw-headline" id="Minor_Wikibase_fixes">Minor Wikibase fixes</span>
    </h3>
    <p>
      These are a handful of signficant fixes that only affect some several dozen pages. They are in brief:
    </p>
    <ul>
      <li>
        in Lua code, entity.formatPropertyValues('P123') would not work. Note that entity.formatPropertyValues('property_name') did work
      </li>
      <li>
        Lua code expects a "datatype" property on entity and a value of "globe-coordinate".
      </li>
      <li>
        Lua code required actual numbers for quantity ("99"), not the literal Wikidata value ("+99")
      </li>
    </ul>
    <h3>
      <span class="mw-headline" id="Minor_fixes_for_Redirect">Minor fixes for Redirect</span>
    </h3>
    <p>
      These are two minor items worth more explanation:
    </p>
    <ul>
      <li>
        Redirects would not work if they had an argument. For example, #REDIRECT [[Target_page|link=collapsed]]
      </li>
      <li>
        Clicking on "Redirected from" links at the top of the page would not work. For example, try <a href="https://en.wikipedia.org/wiki/UK">https://en.wikipedia.org/wiki/UK</a> and click on "Redirected from UK"
      </li>
    </ul>
    <h3>
      <span class="mw-headline" id="Minor_JTidy_fix_to_always_enclose_body_text">Minor JTidy fix to always enclose body text</span>
    </h3>
    <p>
      This was actually not working from the start. Basically tidy needs to take something like ...
    </p>
<pre>
&lt;div class="floatleft"&gt;a&lt;/div&gt;a1&lt;div class="floatleft"&gt;b&lt;/div&gt;b1
</pre>
    <p>
      ... and add some &lt;p&gt; tags to produce ...
    </p>
<pre>
&lt;div class="floatleft"&gt;a&lt;/div&gt;&lt;p&gt;a1&lt;/p&gt;&lt;div class="floatleft"&gt;b&lt;/div&gt;&lt;p&gt;b1&lt;/p&gt;
</pre>
    <p>
      This has a noticeable visual effect for some wikis (Croatian Wiktionary) which have HTML like the above.
    </p>
    <p>
      I modified the jtidy_xowa.jar to handle this behavior.
    </p>
    <h3>
      <span class="mw-headline" id="Wiki_bundles_for_Danish.2C_Serbo-Croatian.2C_Croatian.2C_and_Estonian_wikis">Wiki bundles for Danish, Serbo-Croatian, Croatian, and Estonian wikis</span>
    </h3>
    <p>
      These have been uploaded to archive.org
    </p>
    <ul>
      <li>
        <a href="https://archive.org/details/Xowa_dawiki_latest" rel="nofollow" class="external free">https://archive.org/details/Xowa_dawiki_latest</a>
      </li>
      <li>
        <a href="https://archive.org/details/Xowa_shwiki_latest" rel="nofollow" class="external free">https://archive.org/details/Xowa_shwiki_latest</a>
      </li>
      <li>
        <a href="https://archive.org/details/Xowa_hrwiki_latest" rel="nofollow" class="external free">https://archive.org/details/Xowa_hrwiki_latest</a>
      </li>
      <li>
        <a href="https://archive.org/details/Xowa_eowiki_latest" rel="nofollow" class="external free">https://archive.org/details/Xowa_eowiki_latest</a>
      </li>
    </ul>
    <h3>
      <span class="mw-headline" id="Next_release:_v2.11.3">Next release: v2.11.3</span>
    </h3>
    <p>
      I made some good progress with the rewritten HTML dump feature this week, but am still not done. I'm hoping to get ready for v2.11.3 but I need to work on a few other minor issues that have spilled over from this week. (namely in Wikibase).
    </p>
    <p>
      For wikis, I'm generating 2015-11 English Wikipedia. I'm also going to continue through the minor wikis and try to do Slovak, Waray-Waray, Slovanian and Galician
    </p>
    <h2>
      <span class='mw-headline' id='Release:_v2.11.1.1_.282015-11-01_19:30_Sun.29'>Release: v2.11.1.1 (2015-11-01 19:30 Sun)</span>
    </h2>
    <p>
      v2.11.1 is a minor release. There are a few minor fixes for Hebrew wikis.
    </p>
    <h3>
      <span class='mw-headline' id='Minor_fixes_for_Hebrew_wikis'>Minor fixes for Hebrew wikis</span>
    </h3>
    <p>
      v2.11.1 now supports Hebrew dates for the time function like <code>{{#time:xhxjj xjx xhxjY|28-08-1608 + 341 days}}</code> generating <code>ד' ה'שס\"ט"</code>. In addition there is basic support for Hebrew grammar like <code>{{grammar:prefixed|וabc}}</code> generating <code>ווabc</code>.
    </p>
    <h3>
      <span class='mw-headline' id='Image_packages_for_English_Wikipedia.2C_Hebrew.2C_Norwegian_and_Vietnamese_wikis'>Image packages for English Wikipedia, Hebrew, Norwegian and Vietnamese wikis</span>
    </h3>
    <p>
      The English Wikipedia update for 2015-10 is finally up. The rest of the wikis are up at archive.org
    </p>
    <h3>
      <span class='mw-headline' id='Next_release:_v2.11.2'>Next release: v2.11.2</span>
    </h3>
    <p>
      I've been working on a new UI for the Android alpha. I've also spent time rewriting the HTML dump. For the next few weeks, I don't expect to do anything with the desktop app outside of bug fixing.
    </p>
    <p>
      For wikis, I'll move on to Danish, Serbo-Croatian, Hungarian and Esperanto wikis
    </p>
    <h2>
      <span class='mw-headline' id='Release:_NONE_.282015-10-25_20:00_Sun.29'>Release: NONE (2015-10-25 20:00 Sun)</span>
    </h2>
    <p>
      I'm skipping the release this week. I spent most of the time this week on the HTML dump as well as Android. I'm looking at doing the regular monthly release next week but don't expect any major issues.
    </p>
    <p>
      I'm also working on the wikis below and will post during the week.
    </p>
    <h2>
      <span class='mw-headline' id='Release:_v2.10.3.1_.282015-10-18_20:15_Sun.29'>Release: v2.10.3.1 (2015-10-18 20:15 Sun)</span>
    </h2>
    <p>
      v2.10.3 is a minor release. There are a few minor fixes for issues related to v2.10.2.
    </p>
    <h3>
      <span class='mw-headline' id='Minor_fixes'>Minor fixes</span>
    </h3>
    <p>
      There are two worth mentioning:
    </p>
    <ul>
      <li>
        Commons wiki would not download files
      </li>
      <li>
        Mediawiki would not handle the translate function
      </li>
    </ul>
    <p>
      The rest are more trivial in comparison. You can check the [[Help:Change log]] for more detail.
    </p>
    <h3>
      <span class='mw-headline' id='Image_packages_for_Serbian.2C_Malay_and_Bulgarian_wikis'>Image packages for Serbian, Malay and Bulgarian wikis</span>
    </h3>
    <p>
      I'm uploading Bulgarian now, but the rest should be ready at archive.org. See: <a href="https://archive.org/details/Xowa_srwiki_latest" class="external text" rel="nofollow">https://archive.org/details/Xowa_srwiki_latest</a> <a href="https://archive.org/details/Xowa_mswiki_latest" class="external text" rel="nofollow">https://archive.org/details/Xowa_mswiki_latest</a> and <a href="https://archive.org/details/Xowa_bgwiki_latest" class="external text" rel="nofollow">https://archive.org/details/Xowa_bgwiki_latest</a>
    </p>
    <h3>
      <span class='mw-headline' id='Next_release:_v2.10.4'>Next release: v2.10.4</span>
    </h3>
    <p>
      I'm still waiting on commons / wikidata before doing an English Wikipedia update. I'll work on Hebrew this week and Norwegian / Vietnamese as well.
    </p>
    <p>
      For code, I'm going to change tack again and table the article update function. I'm working on a different XOWA Android UI with hopes of updating the alpha in the next few weeks.
    </p>
    <h2>
      <span class='mw-headline' id='Release:_v2.10.2.1_.282015-10-11_22:45_Sun.29'>Release: v2.10.2.1 (2015-10-11 22:45 Sun)</span>
    </h2>
    <p>
      v2.10.2 is a major release. It has a critical fix for the 2015-10 English Wikipedia dump. It also features better functionality for Chinese / Serbian language wikis. Finally, it also has some significant under-the-hood changes
    </p>
    <h3>
      <span class='mw-headline' id='Fix_for_broken_references_in_2015-10_English_Wikipedia_dump'>Fix for broken references in 2015-10 English Wikipedia dump</span>
    </h3>
    <p>
      XOWA was showing broken references on 2.6 millions pages for the 2015-10 English Wikipedia dump. This was due to some recent changes in <a href="https://en.wikipedia.org/wiki/Module:Citation/CS1">Module:Citation/CS1</a>. Specifically, the number of local variables in the citation0 function was greater than the default 200 limit for Luaj.
    </p>
    <p>
      I recompiled a new version of luaj_xowa.jar to fix this issue.
    </p>
    <h3>
      <span class='mw-headline' id='Language_support_for_Chinese_.2F_Serbian_languages'>Language support for Chinese / Serbian languages</span>
    </h3>
    <p>
      This item basically involves the following changes:
    </p>
    <ul>
      <li>
        Serbian languages now have language dropdowns. For example, sr.wikipedia.org now allows you to switch between Cyrillic and Latin variants
      </li>
      <li>
        Chinese and Serbian wikis now fully implement the "-{}-" syntax. This includes some significant functions like recursive conversion, word-interchangeability, and adhoc rule-definition. See: <a href="https://www.mediawiki.org/wiki/Writing_systems/Syntax">https://www.mediawiki.org/wiki/Writing_systems/Syntax</a>
      </li>
    </ul>
    <p>
      I'm really hoping that the new functionality matches MediaWiki. If you're a Chinese / Serbian user, please take a moment to spot-check a few pages and let me know if there is anything amiss.
    </p>
    <h3>
      <span class='mw-headline' id='Better_support_for_.3Csource.3E_and_.3Csyntaxhighlight.3E'>Better support for &lt;source&gt; and &lt;syntaxhighlight&gt;</span>
    </h3>
    <p>
      MediaWiki recently changed the &lt;syntaxhighlight&gt; extension away from geshi to Pygments. In the process, it looks like they changed a few of the general parsing rules as well. v2.10.4 has better support for these blocks, though actual syntax coloring is still some time away.
    </p>
    <h3>
      <span class='mw-headline' id='Full_support_for_interwiki_links'>Full support for interwiki links</span>
    </h3>
    <p>
      v2.10.2 now incorporates online calls to Wikimedia APIs. The first use was to download a full list of interwiki aliases for each wiki. For those users in offline mode, you can manually generate the list. For more info, see [[Help:Site config]]
    </p>
    <h3>
      <span class='mw-headline' id='Support_for_Dansguardian_import_filter'>Support for Dansguardian import filter</span>
    </h3>
    <p>
      XOWA supports custom creation of wikis by matching articles against words. For example, you can create an English Wikipedia that doesn't have any Pokemon articles. Or you can create an English Wikipedia that just has Pokemon articles. The system is intricate but should be quite powerful. For more info, see [[Help:Import/Dansguardian]]
    </p>
    <h3>
      <span class='mw-headline' id='More_source_code_cleanup'>More source code cleanup</span>
    </h3>
    <p>
      There was a lot of source code cleanup. The process is still ongoing as I'm working on removing old code, as well as rewriting some knottier sections.
    </p>
    <h3>
      <span class='mw-headline' id='Next_release:_v2.10.3'>Next release: v2.10.3</span>
    </h3>
    <p>
      I didn't have time to generate any wikis this week. I'm going to do English, Serbian and one of Malay, Hebrew, Bulgarian for v2.10.2
    </p>
    <p>
      For code, I'm going to start working on an article update function (update the offline article with the latest version from online Wikipedia).
    </p>
    <p>
      <br>
    </p>
    <h2>
      <span class='mw-headline' id='Release:_NONE_.282015-10-04_22:00_Sun.29'>Release: NONE (2015-10-04 22:00 Sun)</span>
    </h2>
    <p>
      I'm skipping the release this week. I ran into some issues with Chinese / Serbian translations, though I think I'm pretty close to being done. In addition, I have some other significant changes in queue which I didn't want to introduce for a "first-week-of-the-month" release.
    </p>
    <p>
      If you want a recent stable release, use <a href="https://github.com/gnosygnu/xowa/releases/tag/v2.9.4.1" class="external text" rel="nofollow">v2.9.4.1</a>. I'll keep that release up for a month.
    </p>
    <p>
      Otherwise, next week's v2.10.2 will have more changes. I'll also resume generating wikis from the list below.
    </p>
<!-- page_end -->    
    </div>
  </div>
</div>



<div id="mw-head" class="noprint">
  <div id="left-navigation">
    <div id="p-namespaces" class="vectorTabs">
      <h3>Namespaces</h3>
      <ul>
        <li  id="ca-nstab-main" class="selected"><span><a id="ca-nstab-main-href" href="index.html">Page</a></span></li>
      </ul>
    </div>
  </div>
</div>

<div id='mw-panel' class='noprint'>
  <div id='p-logo'>
    <a style="background-image: url(xowa-logo.png);" href="https://gnosygnu.github.io/xowa/" title="Visit the main page"></a>
  </div>
  <div class="portal" id='xowa-portal-home'>
    <h3>XOWA</h3>
    <div class="body">
      <ul>
        <li><a href="https://gnosygnu.github.io/xowa/" title='Visit the main page'>Main page</a></li>
        <li><a href="blog.html" title='Follow XOWA''s development process'>Blog</a></li>
        <li><a href="screenshots.html" title='See screenshots of XOWA'>Screenshots</a></li>
        <li><a href="download.html" title='Download the XOWA application'>Download XOWA</a></li>
        <li><a href="image_dbs.html" title='Download offline wikis and image databases'>Download wikis</a></li>
        <li><a href="reviews.html" title='Read what others have written about XOWA'>Media</a></li>
        <li><a href="about.html" title='Get more information about XOWA'>About</a></li>
      </ul>
    </div>
  </div>

  <div class="portal" id='xowa-portal-help'>
    <h3>Help</h3>
    <div class="body">
      <ul>
        <li><a href="requirements.html" title='Get XOWA&apos;s system requirements'>Requirements</a></li>
        <li><a href="installation.html" title='Get instructions for installing XOWA'>Installation</a></li>
        <li><a href="setup_simplewiki.html" title='Learn how to set up Simple Wikipedia'>Set up Simple Wikipedia</a></li>
        <li><a href="setup_enwiki.html" title='Learn how to set up English Wikipedia'>Set up English Wikipedia</a></li>
        <li><a href="setup_other_wikis.html" title='Learn how to set up Other Wikipedias'>Set up Other Wikipedias</a></li>
        <li><a href="contact.html" title='Questions? Comments? Leave feedback for XOWA'>Feedback</a></li>
      </ul>
    </div>
  </div>
  
  <div class="portal" id='xowa-portal-links'>
    <h3>Links</h3>
    <div class="body">
      <ul>
        <li><a href="http://dumps.wikimedia.org/backup-index.html" title="Get wiki datababase dumps directly from Wikimedia">Wikimedia dumps</a></li>
        <li><a href="https://archive.org/search.php?query=xowa" title="Search archive.org for XOWA files">XOWA @ archive.org</a></li>
        <li><a href="http://en.wikipedia.org" title="Visit Wikipedia (and compare to XOWA!)">English Wikipedia</a></li>
      </ul>
    </div>
  </div>

  <div class="portal" id='xowa-portal-donate'>
    <h3>Donate</h3>
    <div class="body">
      <ul>
        <li><a href="https://archive.org/donate/index.php" title="Support archive.org!">archive.org</a></li><!-- listed first due to recent fire damages: http://blog.archive.org/2013/11/06/scanning-center-fire-please-help-rebuild/ -->
        <li><a href="https://donate.wikimedia.org/wiki/Special:FundraiserRedirector" title="Support Wikipedia!">Wikipedia</a></li>
        <!-- <li><a href="" title="Support XOWA! (but only after you've supported archive.org and Wikipedia)">XOWA</a></li> -->
      </ul>
    </div>
  </div>
</div>
</body>
</html>